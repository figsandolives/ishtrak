<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>إنشاء استمارة اشتراك</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>إنشاء استمارة اشتراك جديدة</h1>
        <form id="subscription-form">
            <div class="form-section">
                <h2>بيانات العميل</h2>
                <label for="customer-name">اسم الزبون:</label>
                <input type="text" id="customer-name" required>
                <label for="phone-number">رقم الهاتف:</label>
                <input type="text" id="phone-number" placeholder="يكتب بالعربي ويتحول تلقائيًا" required>
            </div>
            
            <div class="form-section">
                <h2>العنوان</h2>
                <div class="address-type-buttons">
                    <button type="button" id="house-btn" class="active">بيت</button>
                    <button type="button" id="apartment-btn">شقة</button>
                </div>
                <div id="house-fields" class="address-fields">
                    <label for="house-area">المنطقة:</label>
                    <input type="text" id="house-area" required>
                    <label for="house-piece">القطعة:</label>
                    <input type="text" id="house-piece" required>
                    <label for="house-street">الشارع:</label>
                    <input type="text" id="house-street" required>
                    <label for="house-avenue">الجادة (اختياري):</label>
                    <input type="text" id="house-avenue"> <label for="house-number">رقم المنزل:</label>
                    <input type="text" id="house-number" required>
                    <label for="house-nearby">مبنى مجاور؟ (اختياري):</label>
                    <input type="text" id="house-nearby"> </div>
                <div id="apartment-fields" class="address-fields" style="display:none;">
                    <label for="apartment-area">المنطقة:</label>
                    <input type="text" id="apartment-area" required>
                    <label for="apartment-piece">القطعة:</label>
                    <input type="text" id="apartment-piece" required>
                    <label for="apartment-street">الشارع:</label>
                    <input type="text" id="apartment-street" required>
                    <label for="apartment-avenue">الجادة (اختياري):</label>
                    <input type="text" id="apartment-avenue"> <label for="apartment-building">رقم/اسم البناية:</label>
                    <input type="text" id="apartment-building" required>
                    <label for="apartment-floor">الطابق:</label>
                    <input type="text" id="apartment-floor" required>
                    <label for="apartment-flat">الشقة:</label>
                    <input type="text" id="apartment-flat" required>
                    <label for="apartment-nearby">مبنى مجاور؟ (اختياري):</label>
                    <input type="text" id="apartment-nearby"> </div>
            </div>

            <div class="form-section">
                <h2>تفاصيل الاشتراك</h2>
                <label for="subscription-type">نوع الاشتراك:</label>
                <select id="subscription-type" required>
                    <option value="" disabled selected>اختر نوع الاشتراك</option>
                    <option value="1">1- اشتراك إنقاص الوزن النباتي</option>
                    <option value="2">2- اشتراك إنقاص الوزن</option>
                    <option value="3">3- اشتراك خاص لرفع المناعة</option>
                    <option value="4">4- اشتراك نظام الكيتو</option>
                    <option value="5">5- اشتراك خالي من الجلوتين</option>
                    <option value="6">6- اشتراك خالي من الجلوتين ومنتجات الألبان</option>
                    <option value="7">7- اشتراك التخلص من الالتهابات في الجسم بالصيام المتقطع</option>
                    <option value="8">8- اشتراك التخلص من الإلتهابات بدون صيام</option>
                    <option value="9">9- اشتراك رمضان</option>
                    <option value="10">10- اشتراك رمضان النباتي</option>
                    <option value="11">11- اشتراك رفع نسب امتصاص الفيتامينات والمعادن</option>
                    <option value="12">12- اشتراك خاص للنساء المرضعات</option>
                    <option value="13">13- اشتراك ضد أنواع الحساسيات الشائعة</option>
                    <option value="14">14- اشتراك خاص للرياضيين</option>
                    <option value="15">15- اسلوب الحياة الصحية</option>
                    <option value="16">16- اشتراك الأخصائية ريم العنزي، محسوب السعرات</option>
                    <option value="17">17- اشتراك ريوق المستشفى</option>
                    <option value="18">18- اشتراك مخصص</option>
                </select>

                <div id="subscription-options" style="display:none;">
                    <label for="subscription-period">الفترة:</label>
                    <select id="subscription-period" required>
                        </select>
                    <div id="custom-subscription-details" style="display:none;">
                        <label for="custom-price">السعر اليدوي (د.ك):</label>
                        <input type="number" id="custom-price" min="0">
                        <label for="custom-image">صورة جدول الاشتراك:</label>
                        <input type="file" id="custom-image" accept="image/*">
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h2>تحديد المواعيد</h2>
                <label for="start-date">يوم بدء الاشتراك:</label>
                <input type="date" id="start-date" required>
                
                <label for="end-date-display">تاريخ نهاية الاشتراك:</label>
                <p id="end-date-display"></p>

                <label>أيام عدم التوصيل:</label>
                <div id="delivery-days">
                    <label><input type="checkbox" name="delivery-day" value="0" checked> الأحد</label>
                    <label><input type="checkbox" name="delivery-day" value="1" checked> الاثنين</label>
                    <label><input type="checkbox" name="delivery-day" value="2" checked> الثلاثاء</label>
                    <label><input type="checkbox" name="delivery-day" value="3" checked> الأربعاء</label>
                    <label><input type="checkbox" name="delivery-day" value="4" checked> الخميس</label>
                    <label><input type="checkbox" name="delivery-day" value="5" checked> الجمعة</label>
                    <label><input type="checkbox" name="delivery-day" value="6" checked> السبت</label>
                </div>
            </div>

            <div class="form-section">
                <h2>التفاصيل المالية</h2>
                <label for="delivery-price">سعر التوصيل (د.ك):</label>
                <input type="number" id="delivery-price" value="0" min="0">
                <p id="delivery-price-display"></p>
                <p>الإجمالي: <span id="total-price-display">0.00 د.ك</span></p>
            </div>

            <button type="submit" id="submit-btn">إرسال للتوقيع</button>
        </form>
    </div>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
    <script src="app.js"></script>
</body>
</html>